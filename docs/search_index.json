[
["index.html", "TARA Oceans data analysis using Tercen Chapter 1 Introduction Goals Data Methods", " TARA Oceans data analysis using Tercen Tercen support document Chapter 1 Introduction Goals Tercen is inspired by the Tara Ocean Foundation. Tara oceanic expeditions aim is to study and understand the impact of climate change and the ecological crisis facing the world’s oceans. Tara datasets and analysis are made open simple and accessible to the community! Using data from this project we will answer the following questions: Which eukaryotic lineages are reponsible for carbon export? How are eukaryotic lineages and their association with carbon export distributed across space? Data The data comes from the TARA Oceans project, coming from this publication: Guidi et al. (2016): Guidi, L., Chaffron, S., Bittner, L., Eveillard, D., Larhlimi, A., Roux, S., … &amp; Coelho, L. P. (2016). Plankton networks driving carbon export in the oligotrophic ocean. Nature, 532(7600), 465-470. The TARA Oceans project collected: 7.2 terabases (Tb) of metagenomics data from 68 globally distributed sites, representing ~40 million non-redundant genes, around 35,000 operational taxonomic units (OTUs) of prokaryotes (Bacteria and Archaea) and numerous mainly uncharacterized viruses and picoeukaryotes. A set of 2.3 million eukaryotic 18S rDNA ribotypes was generated from a subset of 47 sampling sites corresponding to approximately 130,000 OTUs. Finally, 5,476 viral ‘populations’ were identified at 43 sites from viral metagenomic contigs. These genomics data combined across all domains of life and viruses together with carbon export estimates and other environmental parameters were used to explore the relationships between marine biogeochemistry and plankton communities in the top 150 m of the oligotrophic open ocean. The Methods section of Guidi et al. (2016) fordescribed in detail the data collection process. Throughout this tutorial we will use two tables coming from this study: The Supplementary Table 4 containing environmental data for each sample: Sample: Sample ID Latitude: Latitude Longitude: Longitude Salinity: Salinity NO2 (umol/L): NO2 concentration PO4 (umol/L): PO4 concentration NO2NO3 (umol/L): NO2NO3 concentration Mean Chloro HPLC adjusted (mg Chl/m3): Chlorophyll concentration Mean Temperature deg C: Temperature in degree Celsius Mean Oxygen adjusted (umol/Kg): Oxygen concentration Mean Flux at 150m: Carbon flux at 150m NPP 8d VGPM (mgC/m2/day): NPP weekly average (VGPM model) Guidi et al. (2016) describe the environmental daya collection process as follow: Environmental data were collected from 2009–2013 across all major oligotrophic oceanic provinces in the context of the Tara Oceans expeditions. Sampling stations were selected to represent distinct marine ecosystems at a global scale. Environmental data were obtained from vertical profiles of a sampling package. It consisted of conductivity and temperature sensors, chlorophyll and CDOM fluorometers, light transmissometer (Wetlabs C-star 25 cm), a backscatter sensor (WetLabs ECO BB), a nitrate sensor (SATLANTIC ISUS) and an underwater vision profiler (Hydroptics UVP). Nitrate and fluorescence to chlorophyll concentrations as well as salinity were calibrated with water samples collected with Niskin bottle. Net primary production (NPP) data were extracted from 8-day composites of the vertically generalized production model (VGPM) at the week of sampling. Carbon fluxes and carbon export, corresponding to the carbon flux at 150 m, were estimated based on particle concentration and size distributions obtained from the UVP and details are presented below. From particle size distribution to carbon export estimation. Previous research has shown that the distribution of particle size follows a power law over the micrometre to the millimetre size range. The Supplementary Table 5 containing different eukaryotic lineages and their correlations as computed using sparse Partial Least Squares regression (sPLS). This is a method for regression-based modelling of highly multidimensional data in biology, detailed in the following paper: Lê Cao, K. A., Rossouw, D., Robert-Granié, C. &amp; Besse, P. A sparse PLS for variable selection when integrating omics data. Stat. Appl. Genet. Mol. Biol. 7, 35 (2008). In this study, it is used to directly associate eukaryotic lineages to carbon export and other environmental traits. It models a causal relationship between the lineages and the environmental traits, that is, PLS will predict environmental traits (for example, carbon export) from lineage abundances. Methods To answer these questions, we will: 1. Load data into Tercen We will load the tables mentioned above into Tercen We will then create a data projection suitable to answer our questions 2. Create a heatmap We will represent the correlation between the presence of each eukaryotic lineages and environmental parameters described above We will use a Tercen operator that will apply a given computation to the projection we prepared before This computation will consist in making a heatmap of the correlation of eukaryotic lineages and environmental parameters, after clustering them based on their similarities for environmental parameters The heatmap then depicts with a color scale the strength of the correlation of a given lineage to an environmental variable The clustering of rows and columns facilitates the reading as it groups based on similarities: hence, clusters correspond to lineages and environmentalal parameters that are similar, and their color indicate whether they are strongly correlated or not As in the original study, we can identify high correlations between some lineages and carbon export 3. Look at the distribution of these variables on a world map We will apply another Tercen operator to represent environmental parameters on a world map. This map will allow us to get an idea on how environmental parameters are distributed across space. "],
["analysing-tara-oceans-carbon-export-data-using-tercen.html", "Chapter 2 Analysing TARA Oceans carbon export data using Tercen Creating a Tercen project Loading data into Tercen Creating a workflow Making a heatmap Making a world map", " Chapter 2 Analysing TARA Oceans carbon export data using Tercen This document describes a walkthrough example of data analysis and visualisation using Tercen. We will analyse data from the TARA Oceans project, coming from this publication: Guidi et al. (2016): Guidi, L., Chaffron, S., Bittner, L., Eveillard, D., Larhlimi, A., Roux, S., … &amp; Coelho, L. P. (2016). Plankton networks driving carbon export in the oligotrophic ocean. Nature, 532(7600), 465-470. Our goal is to look at how eukaryotic plankton lineages are associated to environmental parameters such as carbon export. To do so, we will: create a new project in Tercen upload the dataset containing the correlation of different lineages to environmental parameters create a heatmap representing this correlation Creating a Tercen project First, we will create a Tercen project for our analyses. Start Tercen and log in Click on New project Assign the team of your choice to the project Give a name and description to this project, then click on OK Your project is now created ! Loading data into Tercen We will use data from Guidi et al. (2016), more specifically the Supplementary Table 5. 1. Download the data onto your computer You can find the data here: https://github.com/tercen/tara_guidi2016_data. In this tutorial, we will just use the SI5_eukaryotic_lineages.tsv file. 2. Go back to Tercen and load the data Now that we have the data on our computer, we can import it into Tercen. Go to the newly created project Click on New data set Upload the SI5_eukaryotic_lineages.tsv file (1) Give a name to the data set (2) Click on Next (3) Check that the data set has been loaded properly and click on Next Give a name to the values (here, measurement) and variables (here, environmental_variable) (1) Check all the variables (2) Uncheck the ones that are not part of the environmental parameters of interest (here, Latitude and Longitude) (3) and click on OK The data set is now uploaded to Tercen! Creating a workflow Now that we have created our dataset, we will create a workflow to analyse and visualise it. Click on New workflow Give a name to your workflow Your workflow appears now in your project. Click on it Your are now on the workflow environment that is empty. We will now add the data set we uploaded before. Right click anywhere in the blank area and click on Add. Select Table and click on OK. Select the data set and click on OK. Now the data set is ready to be used ! Making a heatmap To analyse our data we need to: 1. Add a data step to the workflow Right click on the data set and select Add Select Data step 2. Make the heatmap projection Double click on the newly created data step Drag and drop elements to make the heatmap projection as in the following video: We now have our first heatmap, our data projection should look like this: 3. Improve the heatmap by ordering rows and columns and adding dendrograms This heatmap looks nice, but it would be better if we could order rows and columns and add dendrograms! That way we could see which species and environmental parameters cluster together. Tercen includes a heatmap operator (called Shiny Heatmap) to make such a representation. In short, operators take as input Tercen projections and return computations and views. In our case, we call it a Shiny operator as it is based on the R/Shiny framework designed to produce interactive visualisations such as this heatmap. In the sidebar, click on the plus sign to add an operator (1) Pick the shiny_heatmap_operator. It appears now the data step environment (2) Then click on Operator view tab on the left to see the result (3) Et voilà! The operator view appeared, as well as our heatmap with a dendrogram: Making a world map Coming soon. "],
["how-to-copy-the-tara-oceans-workflow.html", "Chapter 3 How to copy the TARA Oceans workflow Exploring existing public projects Copying a project to your own Tercen environment", " Chapter 3 How to copy the TARA Oceans workflow This document describes a how to copy a public workflow in Tercen. Exploring existing public projects When your are on https://stage.tercen.com/, you can click on the Explore button to access the list of public projects (alternatively you can directly go to https://stage.tercen.com/explore) You will then be brougth to a page containing all existing public projects Copying a project to your own Tercen environment Tercen gives you the possibility to copy (clone) an existing public project to your own environment To do so, click on the clone button: Then, select the team you want to assign to the project and click on OK Now the project appears in your own environment, you can start using and modifying it as you wish! "]
]
